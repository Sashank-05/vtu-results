<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTU Result Analysis</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="static/main.css" rel="stylesheet">
</head>
<body>
<div class="glow"></div>
<div class="container">

    <header>
        <h1>VTU Result Analysis</h1>

        <p class="subtext">Results and Analysis. All in one place.</p>
    </header>

    <div class="analysis-container">
        <div class="input-card">

            <div class="input-field">
                <i class="material-icons">school</i>
                <input type="text" id="usnInput" placeholder=" " pattern="1[A-Z]{2}\d{2}[A-Z]{2}\d{3}">
                <label for="usnInput">Enter USN or USN prefix</label>
                <div class="underline"></div>
            </div>

            <div id="seminput" class="input-field">
                <i class="material-icons">filter_1</i>
                <select id="semInput" class="">
                    <option value="1">Semester 1</option>
                    <option value="2">Semester 2</option>
                    <option value="3">Semester 3</option>
                    <option value="4">Semester 4</option>
                    <option value="5">Semester 5</option>
                    <option value="6">Semester 6</option>
                    <option value="7">Semester 7</option>
                    <option value="8">Semester 8</option>
                </select>
            </div>


            <div class="action-buttons">
                <button class="glass-button" onclick="handleCommonInput()">
                    <span>Analyze</span>
                    <i class="material-icons">bar_chart</i>
                </button>
                <button class="glass-button" onclick="window.location=`/scrape`">
                    <span>Fetch Results</span>
                    <i class="material-icons">arrow_forward</i>
                </button>
            </div>

        </div>

        <!-- Graph Container -->
        <div class="visualization-panel">
            <div class="graph-container">
                <canvas id="performanceChart"></canvas>
            </div>
            <div class="metrics-grid">
                <div class="metric-card">
                    <i class="material-icons">speed</i>
                    <h4>CGPA Trend</h4>
                </div>
                <div class="metric-card">
                    <i class="material-icons">bar_chart</i>
                    <h4>Subject-wise</h4>
                    <div class="chart-container">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="results" class="results">
        <!-- Results will be injected here -->
    </div>
</div>

<div id="results" class="results"></div>
<div id="tooltip" class="tooltip"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="static/main.js"></script>

</body>
</html>